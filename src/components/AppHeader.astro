---
import Container from "./Container.astro";

import { getLangFromUrl, useTranslations } from "../i18n/utils";

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
---

<header>
    <nav class="z-10 w-full absolute">
        <Container>
            <div class="max-w-7xl mx-auto px-6 md:px-12 xl:px-6">
                <div
                    class="flex flex-wrap items-center justify-between py-2 gap-6 md:py-4 md:gap-0 relative astro-UY3JLCBK"
                >
                    <input
                        aria-hidden="true"
                        type="checkbox"
                        name="toggle_nav"
                        id="toggle_nav"
                        class="hidden peer astro-UY3JLCBK"
                    />
                    <div
                        class="relative z-20 w-full flex justify-between lg:w-max md:px-0 astro-UY3JLCBK"
                    >
                        <a
                            href="/"
                            aria-label="logo"
                            class="flex space-x-2 items-center astro-UY3JLCBK"
                        >
                            <svg
                                width="122"
                                height="39"
                                viewBox="0 0 122 39"
                                fill="none"
                                xmlns="http://www.w3.org/2000/svg"
                            >
                                <g clip-path="url(#clip0_18_2)">
                                    <path
                                        d="M32.1804 13.2546C32.7134 14.4545 32.9831 15.7491 32.924 17.0278C32.8751 18.3061 32.4986 19.5496 31.9011 20.6584C31.301 21.7681 30.4807 22.7498 29.5615 23.5721C29.1568 23.9224 28.7438 24.2471 28.314 24.5353C27.8873 24.8125 27.4782 25.0757 27.0409 25.3054C24.0301 26.9462 20.6489 27.5697 17.427 27.2119L16.3525 33.4075C16.1892 34.258 12.6383 34.2373 12.3867 33.3736L9.44733 14.4734C7.64694 15.0036 6.22954 15.2614 6.17705 14.8927L6.12013 14.6679L5.02356 10.3291L7.83408 8.265C9.86129 6.77597 12.1357 5.83428 14.4019 5.36967C16.6735 4.89974 18.9546 4.898 21.1434 5.31336C23.3298 5.72433 25.4387 6.54361 27.3137 7.77786C27.7731 8.10437 28.2307 8.42998 28.6618 8.78947L29.2907 9.3549C29.5038 9.54454 29.6935 9.72847 29.9067 9.95331C30.8567 10.939 31.6486 12.0516 32.1804 13.2546ZM25.4325 18.1589C25.5958 17.5081 25.3724 16.8427 24.9409 16.4555C24.7339 16.2571 24.5 16.115 24.2745 16.0151C24.0998 15.8998 23.847 15.7893 23.6515 15.6697C23.4331 15.5632 23.2006 15.4769 22.9826 15.3788C22.0581 15.0488 21.0462 14.9063 20.0503 14.9516C19.8808 14.9577 19.7131 14.9784 19.5454 14.9969L18.17 22.9281C20.2991 22.6082 22.2946 21.7066 23.803 20.4037C24.0443 20.2079 24.2689 19.9782 24.4789 19.771C24.6793 19.5646 24.8545 19.3437 25.0151 19.1277C25.2176 18.8091 25.3584 18.4854 25.4325 18.1589Z"
                                        fill="#9381FF"></path>
                                    <path
                                        d="M49.0124 18.6216C49.9545 18.6216 50.7182 19.3832 50.7182 20.3225V32.867C50.7182 33.8063 49.9544 34.5679 49.0124 34.5679C48.1525 34.5679 47.4433 33.933 47.3256 33.1078C46.023 34.0261 44.4353 34.5679 42.7222 34.5679C38.313 34.5679 34.7262 30.9913 34.7262 26.5947C34.7262 22.1981 38.313 18.6216 42.7222 18.6216C44.4353 18.6216 46.0228 19.1633 47.3256 20.0816C47.4433 19.2564 48.1525 18.6216 49.0124 18.6216ZM42.7222 31.1661C45.25 31.1661 47.3066 29.1154 47.3066 26.5947C47.3066 24.074 45.2501 22.0234 42.7222 22.0234C40.1943 22.0234 38.1377 24.074 38.1377 26.5947C38.1377 29.1154 40.1943 31.1661 42.7222 31.1661ZM60.2258 18.6216C61.1678 18.6216 61.9315 19.3832 61.9315 20.3225C61.9315 21.2618 61.1677 22.0234 60.2258 22.0234C57.6979 22.0234 55.6413 24.074 55.6413 26.5947V32.867C55.6413 33.8063 54.8775 34.5679 53.9355 34.5679C52.9935 34.5679 52.2298 33.8063 52.2298 32.867V20.3225C52.2298 19.3831 52.9935 18.6216 53.9355 18.6216C54.7955 18.6216 55.5047 19.2567 55.6223 20.0816C56.925 19.1633 58.5127 18.6216 60.2258 18.6216ZM69.8685 18.6216C74.2777 18.6216 77.8645 22.1981 77.8645 26.5947C77.8645 30.9913 74.2777 34.5679 69.8685 34.5679C65.4593 34.5679 61.8725 30.9913 61.8725 26.5947C61.8725 22.1981 65.4593 18.6216 69.8685 18.6216ZM69.8685 31.1661C72.3963 31.1661 74.4529 29.1154 74.4529 26.5947C74.4529 24.074 72.3964 22.0234 69.8685 22.0234C67.3406 22.0234 65.284 24.074 65.284 26.5947C65.284 29.1154 67.3406 31.1661 69.8685 31.1661ZM87.5002 31.1661C88.4423 31.1661 89.2061 31.9277 89.2061 32.867C89.2061 33.8064 88.4423 34.5679 87.5003 34.5679C83.0209 34.5679 79.3761 30.9338 79.3761 26.467V14.5816C79.3761 13.6423 80.1399 12.8807 81.0819 12.8807C82.0239 12.8807 82.7877 13.6423 82.7877 14.5816V26.467C82.7877 29.058 84.9017 31.1661 87.5002 31.1661ZM97.2983 31.1661C98.2404 31.1661 99.0041 31.9277 99.0041 32.867C99.0041 33.8064 98.2404 34.5679 97.2984 34.5679C92.8189 34.5679 89.1742 30.9338 89.1742 26.467V14.5816C89.1742 13.6423 89.938 12.8807 90.88 12.8807C91.822 12.8807 92.5858 13.6423 92.5858 14.5816V26.467C92.5858 29.058 94.6998 31.1661 97.2983 31.1661ZM113.258 18.6216C114.2 18.6216 114.964 19.3832 114.964 20.3225V32.867C114.964 33.8063 114.2 34.5679 113.258 34.5679C112.398 34.5679 111.689 33.933 111.572 33.1078C110.269 34.0261 108.681 34.5679 106.968 34.5679C102.559 34.5679 98.9722 30.9913 98.9722 26.5947C98.9722 22.1981 102.559 18.6216 106.968 18.6216C108.681 18.6216 110.269 19.1633 111.572 20.0816C111.689 19.2564 112.398 18.6216 113.258 18.6216ZM106.968 31.1661C109.496 31.1661 111.553 29.1154 111.553 26.5947C111.553 24.074 109.496 22.0234 106.968 22.0234C104.44 22.0234 102.384 24.074 102.384 26.5947C102.384 29.1154 104.44 31.1661 106.968 31.1661Z"
                                        fill="#9381FF"></path>
                                </g>
                                <defs>
                                    <clipPath id="clip0_18_2">
                                        <rect
                                            width="122"
                                            height="39"
                                            fill="white"></rect>
                                    </clipPath>
                                </defs>
                            </svg>
                        </a>

                        <div
                            class="relative flex items-center lg:hidden max-h-10 astro-UY3JLCBK"
                        >
                            <label
                                role="button"
                                for="toggle_nav"
                                aria-label="humburger"
                                id="hamburger"
                                class="relative p-6 -mr-6 astro-UY3JLCBK"
                            >
                                <div
                                    aria-hidden="true"
                                    id="line"
                                    class="m-auto h-0.5 w-5 rounded bg-sky-900 dark:bg-gray-300 transition duration-300 astro-UY3JLCBK"
                                >
                                </div>
                                <div
                                    aria-hidden="true"
                                    id="line2"
                                    class="m-auto mt-2 h-0.5 w-5 rounded bg-sky-900 dark:bg-gray-300 transition duration-300 astro-UY3JLCBK"
                                >
                                </div>
                            </label>
                        </div>
                    </div>
                    <div
                        aria-hidden="true"
                        class="fixed z-10 inset-0 h-screen w-screen bg-white/70 backdrop-blur-2xl origin-bottom scale-y-0 transition duration-500 peer-checked:origin-top peer-checked:scale-y-100 lg:hidden dark:bg-gray-900/70 astro-UY3JLCBK"
                    >
                    </div>
                    <div
                        class="flex-col z-20 flex-wrap gap-6 p-8 rounded-3xl border border-gray-100 bg-white shadow-2xl shadow-gray-600/10 justify-end w-full invisible opacity-0 translate-y-1 absolute top-full left-0 transition-all duration-300 scale-95 origin-top lg:relative lg:scale-100 lg:peer-checked:translate-y-0 lg:translate-y-0 lg:flex lg:flex-row lg:items-center lg:gap-0 lg:p-0 lg:bg-transparent lg:w-7/12 lg:visible lg:opacity-100 lg:border-none peer-checked:scale-100 peer-checked:opacity-100 peer-checked:visible lg:shadow-none dark:shadow-none dark:border-gray-700 astro-UY3JLCBK"
                    >
                        <div
                            class="text-gray-600 dark:text-gray-300 lg:pr-4 lg:w-auto w-full lg:pt-0 astro-UY3JLCBK"
                        >
                            <ul
                                class="tracking-wide font-medium lg:text-sm flex-col flex lg:flex-row gap-6 lg:gap-0 astro-UY3JLCBK"
                            >
                                <li class="astro-UY3JLCBK">
                                    <a
                                        href="#blog"
                                        class="block md:px-4 transition hover:text-primary astro-UY3JLCBK"
                                    >
                                        <span class="astro-UY3JLCBK"
                                            >{t("nav.blog")}</span
                                        >
                                    </a>
                                </li>
                            </ul>
                        </div>

                        <div class="mt-12 lg:mt-0 astro-UY3JLCBK">
                            <a
                                href="https://agora.parolla.chat"
                                class="relative flex h-9 w-full items-center justify-center px-4 before:absolute before:inset-0 before:rounded-full before:bg-primary before:transition before:duration-300 hover:before:scale-105 active:duration-75 active:before:scale-95 sm:w-max astro-UY3JLCBK"
                            >
                                <span
                                    class="relative text-sm font-semibold text-white astro-UY3JLCBK"
                                    >{t("nav.register")}</span
                                >
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </Container>
    </nav>
</header>

<style>
    #toggle_nav:checked ~ div #hamburger #line {
        @apply rotate-45 translate-y-1.5;
    }

    #toggle_nav:checked ~ div #hamburger #line2 {
        @apply -rotate-45 -translate-y-1;
    }
</style>
